patch:
  schema/dependencies/=:
    - _he_single
    - _tiger_8105
  schema/description: |
    虎码官方单字
    敲 # 鍵進入鹤形反查
  switches:
    - name: ascii_mode
      reset: 0
      states: [ 中文, 西文 ]
    - name: ascii_punct
      states: [ 。，, ．， ]
    # 通过 top_translator 来选择使用哪个字典.
    - name: extended_charset
      states: [ 基本, 扩充 ]

  fixed_8105: # used in top_translator
    __include: _tiger_8105.schema.yaml:/translator
  fixed_full: # custom_phrase; used in top_translator
    __include: tiger.schema.yaml:/translator
  engine/translators/=:
    - punct_translator
    - reverse_lookup_translator
    # 在 top_translator 中选择使用哪个 table_translator.
    - lua_translator@*top_translator@extended_charset
  engine/filters/=:
    - uniquifier

  recognizer/patterns/reverse_lookup: "^#[a-z]*'?$"
  reverse_lookup:
    dictionary: _he_single
    enable_user_dict: false
    prefix: "#"
    suffix: "'"
    tips: "〔鹤形〕"

  ascii_composer/switch_key/Shift_L: commit_code
  ascii_composer/switch_key/Shift_R: commit_code
  key_binder/bindings/+:
    - { when: has_menu, accept: bracketleft, send: Page_Up }
    - { when: has_menu, accept: bracketright, send: Page_Down }
    - { when: composing, accept: Control+BackSpace, send: Escape }  # 清屏
